<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>17：Python3 数据结构 | 常灿光个人博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">17：Python3 数据结构</h1><a id="logo" href="/.">常灿光个人博客</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">17：Python3 数据结构</h1><div class="post-meta">Aug 27, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><p>Python中列表是可变的，这是它区别于字符串和元组的最重要的特点，一句话概括即：列表可以修改，而字符串和元组不能。</p>
<p>以下是 Python 中列表的方法：</p>
<table>
<thead>
<tr>
<th>方法方法方法方法方法方法方法方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>list.append(x)</td>
<td>把一个元素添加到列表的结尾，相当于 a[len(a):] = [x]。</td>
</tr>
<tr>
<td>list.extend(L)</td>
<td>通过添加指定列表的所有元素来扩充列表，相当于a[len(a):] = L。</td>
</tr>
<tr>
<td>list.insert(i, x)</td>
<td>在指定位置插入一个元素。第一个参数是准备插入到其前面的那个元素的索引，例如a.insert(0,x)会插入到整个列表之前，而a.insert(len(a), x) 相当于 a.append(x) 。</td>
</tr>
<tr>
<td>list.remove(x)</td>
<td>删除列表中值为x的第一个元素。如果没有这样的元素，就会返回一个错误。</td>
</tr>
<tr>
<td>list.pop([i])</td>
<td>从列表的指定位置删除元素，并将其返回。如果没有指定索引，a.pop()返回最后一个元素。元素随即从列表中被删除。（方法中i两边的方括号表示这个参数是可选的，而不是要求你输入一对方括号，你会经常在Python 库参考手册中遇到这样的标记。）</td>
</tr>
<tr>
<td>list.clear()</td>
<td>移除列表中的所有项，等于del a[:]。</td>
</tr>
<tr>
<td>list.index(x)</td>
<td>返回列表中第一个值为x的元素的索引。如果没有匹配的元素就会返回一个错误。</td>
</tr>
<tr>
<td>list.count(x)</td>
<td>返回 x 在列表中出现的次数。</td>
</tr>
<tr>
<td>list.sort()</td>
<td>对列表中的元素进行排序。</td>
</tr>
<tr>
<td>list.reverse()</td>
<td>倒排列表中的元素。</td>
</tr>
<tr>
<td>list.copy()</td>
<td>返回列表的浅复制，等于a[:]。</td>
</tr>
</tbody>
</table>
<p>下面示例演示了列表的大部分方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = [66.25, 333, 333, 1, 1234.5]</div><div class="line">&gt;&gt;&gt; print(a.count(333), a.count(66.25), a.count(&apos;x&apos;))</div><div class="line">2 1 0</div><div class="line">&gt;&gt;&gt; a.insert(2, -1)</div><div class="line">&gt;&gt;&gt; a.append(333)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[66.25, 333, -1, 333, 1, 1234.5, 333]</div><div class="line">&gt;&gt;&gt; a.index(333)</div><div class="line">1</div><div class="line">&gt;&gt;&gt; a.remove(333)</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[66.25, -1, 333, 1, 1234.5, 333]</div><div class="line">&gt;&gt;&gt; a.reverse()</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[333, 1234.5, 1, 333, -1, 66.25]</div><div class="line">&gt;&gt;&gt; a.sort()</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[-1, 1, 66.25, 333, 333, 1234.5]</div></pre></td></tr></table></figure>
<p>注意：类似 insert, remove 或 sort 等修改列表的方法没有返回值。</p>
<h1 id="将列表当做堆栈使用"><a href="#将列表当做堆栈使用" class="headerlink" title="将列表当做堆栈使用"></a>将列表当做堆栈使用</h1><p>列表方法使得列表可以很方便的作为一个堆栈来使用，堆栈作为特定的数据结构，最先进入的元素最后一个被释放（后进先出）。用append()方法可以把一个元素添加到堆栈顶。用不指定索引的pop()方法可以把一个元素从堆栈顶释放出来。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; stack = [3,4,5]</div><div class="line">&gt;&gt;&gt; stack.append(6)</div><div class="line">&gt;&gt;&gt; stack.append(7)</div><div class="line">&gt;&gt;&gt; stack</div><div class="line">[3, 4, 5, 6, 7]</div><div class="line">&gt;&gt;&gt; stack.pop()</div><div class="line">7</div><div class="line">&gt;&gt;&gt; stack</div><div class="line">[3, 4, 5, 6]</div><div class="line">&gt;&gt;&gt; stack.pop()</div><div class="line">6</div><div class="line">&gt;&gt;&gt; stack.pop()</div><div class="line">5</div><div class="line">&gt;&gt;&gt; stack</div><div class="line">[3, 4]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<h1 id="将列表当作队列使用"><a href="#将列表当作队列使用" class="headerlink" title="将列表当作队列使用"></a>将列表当作队列使用</h1><p>也可以把列表当作队列使用，只是在队列里第一个加入的元素，第一个取出来，，但是拿列表用作这样的目的效率不高。在列表的最后添加或者弹出元素速度快，然而在列表里插入或者从头部弹出速度却不快（因为所有其他的元素都得一个一个地移动）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; from collections import deque</div><div class="line">&gt;&gt;&gt; queue = deque([&quot;Eric&quot;,&quot;John&quot;,&quot;Michile&quot;])</div><div class="line">&gt;&gt;&gt; queue</div><div class="line">deque([&apos;Eric&apos;, &apos;John&apos;, &apos;Michile&apos;])</div><div class="line">&gt;&gt;&gt; queue.append(&quot;Terry&quot;)</div><div class="line">&gt;&gt;&gt; queue.append(&quot;Graham&quot;)</div><div class="line">&gt;&gt;&gt; queue</div><div class="line">deque([&apos;Eric&apos;, &apos;John&apos;, &apos;Michile&apos;, &apos;Terry&apos;, &apos;Graham&apos;])</div><div class="line">&gt;&gt;&gt; queue.popleft()</div><div class="line">&apos;Eric&apos;</div><div class="line">&gt;&gt;&gt; queue.popleft()</div><div class="line">&apos;John&apos;</div><div class="line">&gt;&gt;&gt; queue</div><div class="line">deque([&apos;Michile&apos;, &apos;Terry&apos;, &apos;Graham&apos;])</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<h1 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h1><p>列表推导式提供了从序列创建列表的简单途径。通常应用程序将一些操作应用于某个序列的每个元素，用其获得的结果作为生成新列表的元素，或者根据确定的判断条件创建子序列。</p>
<p>每个列表推导式都在for之后跟一个表达式，然后有零到多个for或者if子句。返回结果是一个根据<br>表达从其后的for和if上下文环境中生成出来的列表。如果希望表达式推导出一个元组，就必须使用括号。</p>
<p>这里我们将列表中的每个数值乘以三，获得一个新的列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; vec = [2,4,6]</div><div class="line">&gt;&gt;&gt; [3*x for x in vec]</div><div class="line">[6, 12, 18]</div></pre></td></tr></table></figure>
<p>现在我们玩一点小花样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; [[x,x**2] for x in vec]</div><div class="line">[[2, 4], [4, 16], [6, 36]]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>这里我们对序列里每一个元素逐个调用某方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; freshfruit = [&apos;  banana&apos;, &apos;  loganberry &apos;, &apos;passion fruit  &apos;]</div><div class="line">&gt;&gt;&gt; [weapon.strip() for weapon in freshfruit]</div><div class="line">[&apos;banana&apos;, &apos;loganberry&apos;, &apos;passion fruit&apos;]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>我们可以用if字句作为过滤器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; vec = [2,4,6]</div><div class="line">&gt;&gt;&gt; [3*x for x in vec if x &gt; 3]</div><div class="line">[12, 18]</div><div class="line">&gt;&gt;&gt; [3*x for x in vec if x &lt; 2]</div><div class="line">[]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>以下是一些关于循环和其它技巧的演示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; vec1 = [2, 4, 6]</div><div class="line">&gt;&gt;&gt; vec2 = [4, 3, -9]</div><div class="line">&gt;&gt;&gt; [x*y for x in vec1 for y in vec2]</div><div class="line">[8, 6, -18, 16, 12, -36, 24, 18, -54]</div><div class="line">&gt;&gt;&gt; [x+y for x in vec1 for y in vec2]</div><div class="line">[6, 5, -7, 8, 7, -5, 10, 9, -3]</div><div class="line">&gt;&gt;&gt; [vec1[i]*vec2[i] for i in range(len(vec1))]</div><div class="line">[8, 12, -54]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>列表推导式可以使用复杂表达式或者嵌套函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; [str(round(355/113, i)) for i in range(1, 10)]  //str() 转为字符串类型</div><div class="line">[&apos;3.1&apos;, &apos;3.14&apos;, &apos;3.142&apos;, &apos;3.1416&apos;, &apos;3.14159&apos;, &apos;3.141593&apos;, &apos;3.1415929&apos;, &apos;3.14159292&apos;, &apos;3.14159292&apos;]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<h1 id="嵌套列表解析"><a href="#嵌套列表解析" class="headerlink" title="嵌套列表解析"></a>嵌套列表解析</h1><p>Python 的列表还可以嵌套。</p>
<p>以下实例展示了3X4的矩阵列表：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; matrix = [</div><div class="line">... [1,2,3,4],</div><div class="line">... [5,6,7,8],</div><div class="line">... [9,10,11,12],</div><div class="line">... ]</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; matrix</div><div class="line">[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt;</div><div class="line">&gt;&gt;&gt; [[row[i] for row in matrix] for i in range(4)]</div><div class="line">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>以下实例也可以使用以下方法来实现：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; matrix = [</div><div class="line">... [1,2,3,4],</div><div class="line">... [5,6,7,8],</div><div class="line">... [9,10,11,12],</div><div class="line">... ]</div><div class="line">&gt;&gt;&gt; transposed = []</div><div class="line">&gt;&gt;&gt; for i in range(4):</div><div class="line">...     transposed.append([row[i] for row in matrix])</div><div class="line">...</div><div class="line">&gt;&gt;&gt; transposed</div><div class="line">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>另一种实现方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; matrix = [</div><div class="line">...     [1, 2, 3, 4],</div><div class="line">...     [5, 6, 7, 8],</div><div class="line">...     [9, 10, 11, 12],</div><div class="line">... ]</div><div class="line">&gt;&gt;&gt; transposed = []</div><div class="line">&gt;&gt;&gt; for i in range(4):</div><div class="line">...     transposed_row = []</div><div class="line">...     for row in matrix:</div><div class="line">...             transposed_row.append(row[i])</div><div class="line">...     transposed.append(transposed_row)</div><div class="line">...</div><div class="line">&gt;&gt;&gt; transposed</div><div class="line">[[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<h1 id="del-语句"><a href="#del-语句" class="headerlink" title="del 语句"></a>del 语句</h1><p>使用del语句可以从一个列表总依索引而不是值来删除一个元素。这与使用pop()返回一个值不同。可以使用del语句从列表中删除一个元素，或者清空整个列表。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]</div><div class="line">&gt;&gt;&gt; del a[0]</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[1, 66.25, 333, 333, 1234.5]</div><div class="line">&gt;&gt;&gt; del a[2:4]</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[1, 66.25, 1234.5]</div><div class="line">&gt;&gt;&gt; del a[:]</div><div class="line">&gt;&gt;&gt; a</div><div class="line">[]</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>也可以用del删除实体变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = [-1, 1, 66.25, 333, 333, 1234.5]</div><div class="line">&gt;&gt;&gt; del a</div><div class="line">&gt;&gt;&gt; a         //因为已经删除了a这个变量所以重新输出a的时候就会报错</div><div class="line">Traceback (most recent call last):</div><div class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</div><div class="line">NameError: name &apos;a&apos; is not defined</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<h1 id="元组和序列"><a href="#元组和序列" class="headerlink" title="元组和序列"></a>元组和序列</h1><p>元组由若干逗号分隔的值组成，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; t = 12345, 54321, &apos;hello!&apos;</div><div class="line">&gt;&gt;&gt; t[0]</div><div class="line">12345</div><div class="line">&gt;&gt;&gt; t</div><div class="line">(12345, 54321, &apos;hello!&apos;)</div><div class="line">&gt;&gt;&gt; u = t, (1, 2, 3, 4, 5)</div><div class="line">&gt;&gt;&gt; u</div><div class="line">((12345, 54321, &apos;hello!&apos;), (1, 2, 3, 4, 5))</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>如你所见，元组在输出的时候总是有括号的，以便于正确表达嵌套结构，在输出时候可能有或没有括号，不过括号通常是必须的（如果元组是更大的表达式的一部分）</p>
<h1 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h1><p>集合是一个无序不重复元素的集。基本功能包括关系测试和消除重复元素。</p>
<p>可以用大括号({})来创建集合。注意，如果要创建一个空集合，你必须使用set()而不是{}，后者创建一个空的字典，下一节会学习这个数据结构。</p>
<p>以下是一个简单的演示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; basket = &#123;&apos;apple&apos;, &apos;orange&apos;, &apos;apple&apos;, &apos;pear&apos;, &apos;orange&apos;, &apos;banana&apos;&#125;</div><div class="line">&gt;&gt;&gt; print(basket)                      # 删除重复的</div><div class="line">&#123;&apos;orange&apos;, &apos;banana&apos;, &apos;pear&apos;, &apos;apple&apos;&#125;</div><div class="line">&gt;&gt;&gt; &apos;orange&apos; in basket                 # 检测成员</div><div class="line">True</div><div class="line">&gt;&gt;&gt; &apos;crabgrass&apos; in basket</div><div class="line">False</div><div class="line"></div><div class="line">&gt;&gt;&gt; # 以下演示了两个集合的操作</div><div class="line">...</div><div class="line">&gt;&gt;&gt; a = set(&apos;abracadabra&apos;)</div><div class="line">&gt;&gt;&gt; b = set(&apos;alacazam&apos;)</div><div class="line">&gt;&gt;&gt; a                                  # a 中唯一的字母</div><div class="line">&#123;&apos;a&apos;, &apos;r&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;&#125;</div><div class="line">&gt;&gt;&gt; a - b                              # 在 a 中的字母，但不在 b 中</div><div class="line">&#123;&apos;r&apos;, &apos;d&apos;, &apos;b&apos;&#125;</div><div class="line">&gt;&gt;&gt; a | b                              # 在 a 或 b 中的字母</div><div class="line">&#123;&apos;a&apos;, &apos;c&apos;, &apos;r&apos;, &apos;d&apos;, &apos;b&apos;, &apos;m&apos;, &apos;z&apos;, &apos;l&apos;&#125;</div><div class="line">&gt;&gt;&gt; a &amp; b                              # 在 a 和 b 中都有的字母</div><div class="line">&#123;&apos;a&apos;, &apos;c&apos;&#125;</div><div class="line">&gt;&gt;&gt; a ^ b                              # 在 a 或 b 中的字母，但不同时在 a 和 b 中</div><div class="line">&#123;&apos;r&apos;, &apos;d&apos;, &apos;b&apos;, &apos;m&apos;, &apos;z&apos;, &apos;l&apos;&#125;</div></pre></td></tr></table></figure>
<p>集合也支持推导式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; a = &#123;x for x in &apos;abracadabra&apos; if x not in &apos;abc&apos;&#125;</div><div class="line">&gt;&gt;&gt; a</div><div class="line">&#123;&apos;r&apos;, &apos;d&apos;&#125;</div></pre></td></tr></table></figure></p>
<h1 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h1><p>另一个非常有用的Python内建数据类型是字典。</p>
<p>序列是以连续的整数为索引，与此不同的是，字典是以关键字为索引的，关键字可以是任意不可变类型，通常用字符串或者数值。理解字典的最佳方式是把它看作无序的键值对集合。在同一个字典之内，关键字必须是互不相同的。</p>
<p>一对大括号创建一个空的字典：{}。</p>
<p>这是一个字典运用的简单例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; tel = &#123;&apos;jack&apos;: 4098, &apos;sape&apos;: 4139&#125;</div><div class="line">&gt;&gt;&gt; tel[&apos;guido&apos;] = 4127</div><div class="line">&gt;&gt;&gt; tel</div><div class="line">&#123;&apos;sape&apos;: 4139, &apos;guido&apos;: 4127, &apos;jack&apos;: 4098&#125;</div><div class="line">&gt;&gt;&gt; tel[&apos;jack&apos;]</div><div class="line">4098</div><div class="line">&gt;&gt;&gt; del tel[&apos;sape&apos;]</div><div class="line">&gt;&gt;&gt; tel[&apos;irv&apos;] = 4127</div><div class="line">&gt;&gt;&gt; tel</div><div class="line">&#123;&apos;guido&apos;: 4127, &apos;irv&apos;: 4127, &apos;jack&apos;: 4098&#125;</div><div class="line">&gt;&gt;&gt; list(tel.keys())</div><div class="line">[&apos;irv&apos;, &apos;guido&apos;, &apos;jack&apos;]</div><div class="line">&gt;&gt;&gt; sorted(tel.keys())</div><div class="line">[&apos;guido&apos;, &apos;irv&apos;, &apos;jack&apos;]</div><div class="line">&gt;&gt;&gt; &apos;guido&apos; in tel</div><div class="line">True</div><div class="line">&gt;&gt;&gt; &apos;jack&apos; not in tel</div><div class="line">False</div></pre></td></tr></table></figure>
<p>构造函数dict()直接从键值对元组列表中构造字典。如果有固定的模式，列表推导式指定特定的键值对：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; dict([(&apos;sape&apos;, 4139), (&apos;guido&apos;, 4127), (&apos;jack&apos;, 4098)])</div><div class="line">&#123;&apos;sape&apos;: 4139, &apos;jack&apos;: 4098, &apos;guido&apos;: 4127&#125;</div></pre></td></tr></table></figure>
<p>此外，字典推导可以用来创建任意键和值的表达式词典：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; &#123;x: x**2 for x in (2, 4, 6)&#125;</div><div class="line">&#123;2: 4, 4: 16, 6: 36&#125;</div></pre></td></tr></table></figure>
<p>如果关键字只是简单的字符串，使用关键字参数指定键值对有时候更加的方便。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; dict(sape=4139, guido=4127, jack=4098)</div><div class="line">&#123;&apos;sape&apos;: 4139, &apos;jack&apos;: 4098, &apos;guido&apos;: 4127&#125;</div></pre></td></tr></table></figure>
<h1 id="遍历技巧"><a href="#遍历技巧" class="headerlink" title="遍历技巧"></a>遍历技巧</h1><p>在字典中遍历的时候，关键字和对应的值可以使用items()方法同时解读出来：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; knights = &#123;&apos;gallahad&apos;: &apos;the pure&apos;, &apos;robin&apos;: &apos;the brave&apos;&#125;</div><div class="line">&gt;&gt;&gt; for k, v in knights.items():</div><div class="line">...      print(k, v)</div><div class="line">...</div><div class="line">gallahad the pure</div><div class="line">robin the brave</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p>在序列中遍历的时候，索引位置和对应值可以使用 enumerate()函数同时得到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; for i, v in enumerate([&apos;tic&apos;, &apos;tac&apos;, &apos;toe&apos;]):</div><div class="line">...     print(i, v)</div><div class="line">...</div><div class="line">0 tic</div><div class="line">1 tac</div><div class="line">2 toe</div></pre></td></tr></table></figure>
<p>同时遍历两个或者更多的序列，可以使用zip()组合：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; questions = [&apos;name&apos;, &apos;quest&apos;, &apos;favorite color&apos;]</div><div class="line">&gt;&gt;&gt; answers = [&apos;lancelot&apos;, &apos;the holy grail&apos;, &apos;blue&apos;]</div><div class="line">&gt;&gt;&gt; for q, a in zip(questions, answers):</div><div class="line">...     print(&apos;What is your &#123;0&#125;?  It is &#123;1&#125;.&apos;.format(q, a))</div><div class="line">...</div><div class="line">What is your name?  It is lancelot.</div><div class="line">What is your quest?  It is the holy grail.</div><div class="line">What is your favorite color?  It is blue.</div></pre></td></tr></table></figure>
<p>要反向遍历一个序列，首先指定这个序列，然后调用reversed() 函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; for i in reversed(range(1, 10, 2)):</div><div class="line">...     print(i)</div><div class="line">...</div><div class="line">9</div><div class="line">7</div><div class="line">5</div><div class="line">3</div><div class="line">1</div></pre></td></tr></table></figure>
<p>要按顺序遍历一个序列，使用 sorted() 函数返回一个已排序的序列，并不修改原值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt; basket = [&apos;apple&apos;, &apos;orange&apos;, &apos;apple&apos;, &apos;pear&apos;, &apos;orange&apos;, &apos;banana&apos;]</div><div class="line">&gt;&gt;&gt; for f in sorted(set(basket)):// set(basket) 将list转成set</div><div class="line">...     print(f)</div><div class="line">...</div><div class="line">apple</div><div class="line">banana</div><div class="line">orange</div><div class="line">pear</div></pre></td></tr></table></figure>
<p><strong>笔记列表</strong></p>
<p>1：元组不可变，若元组的成员是可变类型，则成员可编辑。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">a = [1,2,3,4]</div><div class="line">b = [5,6,7,8]</div><div class="line">c = [9,10,11,12]</div><div class="line">t = a,b,c</div><div class="line">print(t)</div><div class="line">del b[1:4]</div><div class="line">print(t)</div></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">([1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12])</div><div class="line">([1, 2, 3, 4], [5], [9, 10, 11, 12])</div></pre></td></tr></table></figure>
<p>2：列表推导式的执行顺序：各语句之间是嵌套关系，左边第二个语句是最外层，依次往右进一层，左边#第一条语句是最后一层。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[x*y for x in range[1,5] if x &gt; 2 for y in range[1,4] if x &lt; 3]</div></pre></td></tr></table></figure>
<p>他的执行顺序是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for x in range[1,5]</div><div class="line">    if x &gt; 2</div><div class="line">        for y in range[1,4]</div><div class="line">            if x &lt; 3</div><div class="line">                x*y</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">end</div><div class="line"></div><div class="line">end</div><div class="line"></div><div class="line">end</div></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://201216323.tech/2017/08/27/17：Python3-数据结构/" data-id="cj6ur3mm900057csgpy3e4d0p" class="article-share-link">分享</a><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-nav"><a href="/2017/08/27/16：Python3-函数/" class="next">16：Python3 函数</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://201216323.tech"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/27/17：Python3-数据结构/">17：Python3 数据结构</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/27/16：Python3-函数/">16：Python3 函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/27/15：Python3-迭代器与生成器/">15：Python3 迭代器与生成器</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/27/14：Python3-循环语句/">14：Python3 循环语句</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/27/13：Python3-条件控制/">13：Python3 条件控制</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/24/12：Python3-编程第一步/">12：Python3 编程第一步</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/24/11：Python3-字典/">11：Python3 字典</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/24/10：Python3-元组/">10：Python3 元组</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/24/9：Python3-列表/">9：Python3 列表</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/24/8：Python3-字符串/">8：Python3 字符串</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">常灿光个人博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>